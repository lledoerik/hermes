{"ast":null,"code":"var _jsxFileName = \"E:\\\\Develop\\\\hermes-backend\\\\frontend\\\\src\\\\pages\\\\Player.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { API_URL, API_ENDPOINTS, STORAGE_KEYS, DEFAULTS } from '../config';\nimport './Player.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Player() {\n  _s();\n  const {\n    mediaId\n  } = useParams();\n  const navigate = useNavigate();\n  const videoRef = useRef(null);\n  const [media, setMedia] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [streamUrl, setStreamUrl] = useState(null);\n  const [preparing, setPreparing] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Track selection\n  const [selectedAudio, setSelectedAudio] = useState(0);\n  const [selectedSubtitle, setSelectedSubtitle] = useState(null);\n  const [quality, setQuality] = useState(localStorage.getItem(STORAGE_KEYS.quality) || DEFAULTS.quality);\n\n  // Player controls\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(parseFloat(localStorage.getItem(STORAGE_KEYS.volume)) || DEFAULTS.volume);\n  const [showControls, setShowControls] = useState(true);\n  const [showSettings, setShowSettings] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const controlsTimeoutRef = useRef(null);\n  useEffect(() => {\n    loadMediaInfo();\n    return () => {\n      if (controlsTimeoutRef.current) {\n        clearTimeout(controlsTimeoutRef.current);\n      }\n    };\n  }, [mediaId]);\n  useEffect(() => {\n    if (videoRef.current) {\n      videoRef.current.volume = volume;\n    }\n    localStorage.setItem(STORAGE_KEYS.volume, volume.toString());\n  }, [volume]);\n  const loadMediaInfo = async () => {\n    try {\n      const response = await axios.get(`${API_URL}${API_ENDPOINTS.mediaDetail(mediaId)}`);\n      setMedia(response.data);\n\n      // Set default audio based on preference\n      const preferredLang = localStorage.getItem(STORAGE_KEYS.audioLanguage) || DEFAULTS.audioLanguage;\n      if (response.data.audio_tracks) {\n        const preferredIndex = response.data.audio_tracks.findIndex(t => t.language === preferredLang);\n        if (preferredIndex >= 0) {\n          setSelectedAudio(preferredIndex);\n        }\n      }\n    } catch (err) {\n      console.error('Error loading media:', err);\n      setError('No s\\'ha pogut carregar el contingut');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const startStream = async () => {\n    setPreparing(true);\n    setError(null);\n    try {\n      const response = await axios.post(`${API_URL}${API_ENDPOINTS.streamHls(mediaId)}`, {\n        audio_index: selectedAudio,\n        subtitle_index: selectedSubtitle,\n        quality: quality\n      });\n\n      // Wait a moment for FFmpeg to generate initial segments\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      setStreamUrl(`${API_URL}${response.data.playlist_url}`);\n    } catch (err) {\n      console.error('Error starting stream:', err);\n      setError('Error iniciant el streaming');\n    } finally {\n      setPreparing(false);\n    }\n  };\n  const playDirect = () => {\n    setStreamUrl(`${API_URL}${API_ENDPOINTS.streamDirect(mediaId)}`);\n  };\n  const handlePlayPause = () => {\n    if (videoRef.current) {\n      if (isPlaying) {\n        videoRef.current.pause();\n      } else {\n        videoRef.current.play();\n      }\n    }\n  };\n  const handleTimeUpdate = () => {\n    if (videoRef.current) {\n      setCurrentTime(videoRef.current.currentTime);\n    }\n  };\n  const handleLoadedMetadata = () => {\n    if (videoRef.current) {\n      setDuration(videoRef.current.duration);\n    }\n  };\n  const handleSeek = e => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const pos = (e.clientX - rect.left) / rect.width;\n    if (videoRef.current) {\n      videoRef.current.currentTime = pos * duration;\n    }\n  };\n  const handleVolumeChange = e => {\n    setVolume(parseFloat(e.target.value));\n  };\n  const toggleFullscreen = () => {\n    const container = document.querySelector('.player-container');\n    if (!document.fullscreenElement) {\n      container.requestFullscreen();\n      setIsFullscreen(true);\n    } else {\n      document.exitFullscreen();\n      setIsFullscreen(false);\n    }\n  };\n  const handleMouseMove = () => {\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    controlsTimeoutRef.current = setTimeout(() => {\n      if (isPlaying) {\n        setShowControls(false);\n      }\n    }, 3000);\n  };\n  const formatTime = seconds => {\n    if (!seconds || isNaN(seconds)) return '0:00';\n    const h = Math.floor(seconds / 3600);\n    const m = Math.floor(seconds % 3600 / 60);\n    const s = Math.floor(seconds % 60);\n    if (h > 0) {\n      return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n    }\n    return `${m}:${s.toString().padStart(2, '0')}`;\n  };\n  const getLanguageName = code => {\n    const languages = {\n      cat: 'Catala',\n      spa: 'Castella',\n      eng: 'Angles',\n      jpn: 'Japones',\n      kor: 'Korea',\n      fra: 'Frances',\n      deu: 'Alemany',\n      ita: 'Italia',\n      por: 'Portugues',\n      und: 'Desconegut'\n    };\n    return languages[code] || code || 'Desconegut';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-page loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Carregant...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this);\n  }\n  if (error && !streamUrl) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-page error\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => navigate(-1),\n        children: \"Tornar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"player-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `player-container ${showControls ? 'show-controls' : ''}`,\n      onMouseMove: handleMouseMove,\n      onMouseLeave: () => isPlaying && setShowControls(false),\n      children: [streamUrl ? /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"video-element\",\n        src: streamUrl,\n        onTimeUpdate: handleTimeUpdate,\n        onLoadedMetadata: handleLoadedMetadata,\n        onPlay: () => setIsPlaying(true),\n        onPause: () => setIsPlaying(false),\n        onClick: handlePlayPause,\n        autoPlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this) :\n      /*#__PURE__*/\n      /* Pre-play screen */\n      _jsxDEV(\"div\", {\n        className: \"pre-play-screen\",\n        children: [(media === null || media === void 0 ? void 0 : media.backdrop) && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${API_URL}${API_ENDPOINTS.backdrop(media.series_id || mediaId)}`,\n          alt: \"\",\n          className: \"pre-play-backdrop\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pre-play-overlay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pre-play-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"media-title\",\n            children: (media === null || media === void 0 ? void 0 : media.series_name) || (media === null || media === void 0 ? void 0 : media.title) || 'Video'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), (media === null || media === void 0 ? void 0 : media.episode_number) && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"episode-info\",\n            children: [\"Temporada \", media.season_number, \" - Episodi \", media.episode_number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"track-selection\",\n            children: [(media === null || media === void 0 ? void 0 : media.audio_tracks) && media.audio_tracks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"track-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Audio:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedAudio,\n                onChange: e => setSelectedAudio(parseInt(e.target.value)),\n                className: \"track-select\",\n                children: media.audio_tracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: index,\n                  children: [getLanguageName(track.language), track.title && ` - ${track.title}`, \"(\", track.codec, \")\"]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 19\n            }, this), (media === null || media === void 0 ? void 0 : media.subtitle_tracks) && media.subtitle_tracks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"track-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Subtitols:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: selectedSubtitle !== null && selectedSubtitle !== void 0 ? selectedSubtitle : '',\n                onChange: e => setSelectedSubtitle(e.target.value === '' ? null : parseInt(e.target.value)),\n                className: \"track-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Sense subtitols\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this), media.subtitle_tracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: index,\n                  children: [getLanguageName(track.language), \"(\", track.codec, \")\"]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"track-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Qualitat:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: quality,\n                onChange: e => {\n                  setQuality(e.target.value);\n                  localStorage.setItem(STORAGE_KEYS.quality, e.target.value);\n                },\n                className: \"track-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4k\",\n                  children: \"4K (Original)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1080p\",\n                  children: \"1080p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"720p\",\n                  children: \"720p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"480p\",\n                  children: \"480p\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"play-buttons\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary play-btn\",\n              onClick: startStream,\n              disabled: preparing,\n              children: preparing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spinner small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 23\n                }, this), \"Preparant...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"24\",\n                  height: \"24\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n                    points: \"5,3 19,12 5,21\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this), \"Reproduir (HLS)\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary play-btn\",\n              onClick: playDirect,\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this), \"Directe (sense processar)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-btn\",\n        onClick: () => navigate(-1),\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"24\",\n          height: \"24\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M19 12H5M12 19l-7-7 7-7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), streamUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-container\",\n          onClick: handleSeek,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-fill\",\n              style: {\n                width: `${currentTime / duration * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-handle\",\n              style: {\n                left: `${currentTime / duration * 100}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"controls-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"controls-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"control-btn\",\n              onClick: handlePlayPause,\n              children: isPlaying ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"currentColor\",\n                children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                  x: \"6\",\n                  y: \"4\",\n                  width: \"4\",\n                  height: \"16\",\n                  rx: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n                  x: \"14\",\n                  y: \"4\",\n                  width: \"4\",\n                  height: \"16\",\n                  rx: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"polygon\", {\n                  points: \"5,3 19,12 5,21\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"volume-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"control-btn\",\n                onClick: () => setVolume(volume > 0 ? 0 : 1),\n                children: volume === 0 ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"24\",\n                  height: \"24\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M11 5L6 9H2v6h4l5 4V5zM23 9l-6 6M17 9l6 6\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"24\",\n                  height: \"24\",\n                  viewBox: \"0 0 24 24\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M11 5L6 9H2v6h4l5 4V5zM15.54 8.46a5 5 0 010 7.07M19.07 4.93a10 10 0 010 14.14\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"0\",\n                max: \"1\",\n                step: \"0.05\",\n                value: volume,\n                onChange: handleVolumeChange,\n                className: \"volume-slider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"time-display\",\n              children: [formatTime(currentTime), \" / \", formatTime(duration)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"controls-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"control-btn\",\n              onClick: () => setShowSettings(!showSettings),\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"control-btn\",\n              onClick: toggleFullscreen,\n              children: isFullscreen ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M8 3v3a2 2 0 01-2 2H3m18 0h-3a2 2 0 01-2-2V3m0 18v-3a2 2 0 012-2h3M3 16h3a2 2 0 012 2v3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"24\",\n                height: \"24\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                strokeWidth: \"2\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 11\n      }, this), showSettings && streamUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-panel glass\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Configuracio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"settings-note\",\n          children: \"Per canviar l'audio o subtitols, torna enrere i selecciona de nou.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n}\n_s(Player, \"YZLt4T/OQvf1D0eMFv8GXUERy7M=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Player;\nexport default Player;\nvar _c;\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","axios","API_URL","API_ENDPOINTS","STORAGE_KEYS","DEFAULTS","jsxDEV","_jsxDEV","Fragment","_Fragment","Player","_s","mediaId","navigate","videoRef","media","setMedia","loading","setLoading","streamUrl","setStreamUrl","preparing","setPreparing","error","setError","selectedAudio","setSelectedAudio","selectedSubtitle","setSelectedSubtitle","quality","setQuality","localStorage","getItem","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","volume","setVolume","parseFloat","showControls","setShowControls","showSettings","setShowSettings","isFullscreen","setIsFullscreen","controlsTimeoutRef","loadMediaInfo","current","clearTimeout","setItem","toString","response","get","mediaDetail","data","preferredLang","audioLanguage","audio_tracks","preferredIndex","findIndex","t","language","err","console","startStream","post","streamHls","audio_index","subtitle_index","Promise","resolve","setTimeout","playlist_url","playDirect","streamDirect","handlePlayPause","pause","play","handleTimeUpdate","handleLoadedMetadata","handleSeek","e","rect","currentTarget","getBoundingClientRect","pos","clientX","left","width","handleVolumeChange","target","value","toggleFullscreen","container","document","querySelector","fullscreenElement","requestFullscreen","exitFullscreen","handleMouseMove","formatTime","seconds","isNaN","h","Math","floor","m","s","padStart","getLanguageName","code","languages","cat","spa","eng","jpn","kor","fra","deu","ita","por","und","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onMouseMove","onMouseLeave","ref","src","onTimeUpdate","onLoadedMetadata","onPlay","onPause","autoPlay","backdrop","series_id","alt","series_name","title","episode_number","season_number","length","onChange","parseInt","map","track","index","codec","subtitle_tracks","disabled","height","viewBox","fill","points","stroke","strokeWidth","d","style","x","y","rx","type","min","max","step","cx","cy","r","_c","$RefreshReg$"],"sources":["E:/Develop/hermes-backend/frontend/src/pages/Player.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { API_URL, API_ENDPOINTS, STORAGE_KEYS, DEFAULTS } from '../config';\r\nimport './Player.css';\r\n\r\nfunction Player() {\r\n  const { mediaId } = useParams();\r\n  const navigate = useNavigate();\r\n  const videoRef = useRef(null);\r\n\r\n  const [media, setMedia] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [streamUrl, setStreamUrl] = useState(null);\r\n  const [preparing, setPreparing] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Track selection\r\n  const [selectedAudio, setSelectedAudio] = useState(0);\r\n  const [selectedSubtitle, setSelectedSubtitle] = useState(null);\r\n  const [quality, setQuality] = useState(\r\n    localStorage.getItem(STORAGE_KEYS.quality) || DEFAULTS.quality\r\n  );\r\n\r\n  // Player controls\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [volume, setVolume] = useState(\r\n    parseFloat(localStorage.getItem(STORAGE_KEYS.volume)) || DEFAULTS.volume\r\n  );\r\n  const [showControls, setShowControls] = useState(true);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n\r\n  const controlsTimeoutRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    loadMediaInfo();\r\n    return () => {\r\n      if (controlsTimeoutRef.current) {\r\n        clearTimeout(controlsTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [mediaId]);\r\n\r\n  useEffect(() => {\r\n    if (videoRef.current) {\r\n      videoRef.current.volume = volume;\r\n    }\r\n    localStorage.setItem(STORAGE_KEYS.volume, volume.toString());\r\n  }, [volume]);\r\n\r\n  const loadMediaInfo = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}${API_ENDPOINTS.mediaDetail(mediaId)}`);\r\n      setMedia(response.data);\r\n\r\n      // Set default audio based on preference\r\n      const preferredLang = localStorage.getItem(STORAGE_KEYS.audioLanguage) || DEFAULTS.audioLanguage;\r\n      if (response.data.audio_tracks) {\r\n        const preferredIndex = response.data.audio_tracks.findIndex(\r\n          t => t.language === preferredLang\r\n        );\r\n        if (preferredIndex >= 0) {\r\n          setSelectedAudio(preferredIndex);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Error loading media:', err);\r\n      setError('No s\\'ha pogut carregar el contingut');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const startStream = async () => {\r\n    setPreparing(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await axios.post(`${API_URL}${API_ENDPOINTS.streamHls(mediaId)}`, {\r\n        audio_index: selectedAudio,\r\n        subtitle_index: selectedSubtitle,\r\n        quality: quality,\r\n      });\r\n\r\n      // Wait a moment for FFmpeg to generate initial segments\r\n      await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n      setStreamUrl(`${API_URL}${response.data.playlist_url}`);\r\n    } catch (err) {\r\n      console.error('Error starting stream:', err);\r\n      setError('Error iniciant el streaming');\r\n    } finally {\r\n      setPreparing(false);\r\n    }\r\n  };\r\n\r\n  const playDirect = () => {\r\n    setStreamUrl(`${API_URL}${API_ENDPOINTS.streamDirect(mediaId)}`);\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    if (videoRef.current) {\r\n      if (isPlaying) {\r\n        videoRef.current.pause();\r\n      } else {\r\n        videoRef.current.play();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleTimeUpdate = () => {\r\n    if (videoRef.current) {\r\n      setCurrentTime(videoRef.current.currentTime);\r\n    }\r\n  };\r\n\r\n  const handleLoadedMetadata = () => {\r\n    if (videoRef.current) {\r\n      setDuration(videoRef.current.duration);\r\n    }\r\n  };\r\n\r\n  const handleSeek = (e) => {\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const pos = (e.clientX - rect.left) / rect.width;\r\n    if (videoRef.current) {\r\n      videoRef.current.currentTime = pos * duration;\r\n    }\r\n  };\r\n\r\n  const handleVolumeChange = (e) => {\r\n    setVolume(parseFloat(e.target.value));\r\n  };\r\n\r\n  const toggleFullscreen = () => {\r\n    const container = document.querySelector('.player-container');\r\n    if (!document.fullscreenElement) {\r\n      container.requestFullscreen();\r\n      setIsFullscreen(true);\r\n    } else {\r\n      document.exitFullscreen();\r\n      setIsFullscreen(false);\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = () => {\r\n    setShowControls(true);\r\n    if (controlsTimeoutRef.current) {\r\n      clearTimeout(controlsTimeoutRef.current);\r\n    }\r\n    controlsTimeoutRef.current = setTimeout(() => {\r\n      if (isPlaying) {\r\n        setShowControls(false);\r\n      }\r\n    }, 3000);\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    if (!seconds || isNaN(seconds)) return '0:00';\r\n    const h = Math.floor(seconds / 3600);\r\n    const m = Math.floor((seconds % 3600) / 60);\r\n    const s = Math.floor(seconds % 60);\r\n    if (h > 0) {\r\n      return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\r\n    }\r\n    return `${m}:${s.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const getLanguageName = (code) => {\r\n    const languages = {\r\n      cat: 'Catala',\r\n      spa: 'Castella',\r\n      eng: 'Angles',\r\n      jpn: 'Japones',\r\n      kor: 'Korea',\r\n      fra: 'Frances',\r\n      deu: 'Alemany',\r\n      ita: 'Italia',\r\n      por: 'Portugues',\r\n      und: 'Desconegut',\r\n    };\r\n    return languages[code] || code || 'Desconegut';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"player-page loading\">\r\n        <div className=\"spinner\"></div>\r\n        <p>Carregant...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && !streamUrl) {\r\n    return (\r\n      <div className=\"player-page error\">\r\n        <h2>{error}</h2>\r\n        <button className=\"btn btn-primary\" onClick={() => navigate(-1)}>\r\n          Tornar\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"player-page\">\r\n      <div\r\n        className={`player-container ${showControls ? 'show-controls' : ''}`}\r\n        onMouseMove={handleMouseMove}\r\n        onMouseLeave={() => isPlaying && setShowControls(false)}\r\n      >\r\n        {/* Video */}\r\n        {streamUrl ? (\r\n          <video\r\n            ref={videoRef}\r\n            className=\"video-element\"\r\n            src={streamUrl}\r\n            onTimeUpdate={handleTimeUpdate}\r\n            onLoadedMetadata={handleLoadedMetadata}\r\n            onPlay={() => setIsPlaying(true)}\r\n            onPause={() => setIsPlaying(false)}\r\n            onClick={handlePlayPause}\r\n            autoPlay\r\n          />\r\n        ) : (\r\n          /* Pre-play screen */\r\n          <div className=\"pre-play-screen\">\r\n            {media?.backdrop && (\r\n              <img\r\n                src={`${API_URL}${API_ENDPOINTS.backdrop(media.series_id || mediaId)}`}\r\n                alt=\"\"\r\n                className=\"pre-play-backdrop\"\r\n              />\r\n            )}\r\n            <div className=\"pre-play-overlay\"></div>\r\n\r\n            <div className=\"pre-play-content\">\r\n              <h1 className=\"media-title\">\r\n                {media?.series_name || media?.title || 'Video'}\r\n              </h1>\r\n              {media?.episode_number && (\r\n                <p className=\"episode-info\">\r\n                  Temporada {media.season_number} - Episodi {media.episode_number}\r\n                </p>\r\n              )}\r\n\r\n              {/* Track Selection */}\r\n              <div className=\"track-selection\">\r\n                {/* Audio Selection */}\r\n                {media?.audio_tracks && media.audio_tracks.length > 0 && (\r\n                  <div className=\"track-group\">\r\n                    <label>Audio:</label>\r\n                    <select\r\n                      value={selectedAudio}\r\n                      onChange={(e) => setSelectedAudio(parseInt(e.target.value))}\r\n                      className=\"track-select\"\r\n                    >\r\n                      {media.audio_tracks.map((track, index) => (\r\n                        <option key={index} value={index}>\r\n                          {getLanguageName(track.language)}\r\n                          {track.title && ` - ${track.title}`}\r\n                          ({track.codec})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Subtitle Selection */}\r\n                {media?.subtitle_tracks && media.subtitle_tracks.length > 0 && (\r\n                  <div className=\"track-group\">\r\n                    <label>Subtitols:</label>\r\n                    <select\r\n                      value={selectedSubtitle ?? ''}\r\n                      onChange={(e) => setSelectedSubtitle(e.target.value === '' ? null : parseInt(e.target.value))}\r\n                      className=\"track-select\"\r\n                    >\r\n                      <option value=\"\">Sense subtitols</option>\r\n                      {media.subtitle_tracks.map((track, index) => (\r\n                        <option key={index} value={index}>\r\n                          {getLanguageName(track.language)}\r\n                          ({track.codec})\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Quality Selection */}\r\n                <div className=\"track-group\">\r\n                  <label>Qualitat:</label>\r\n                  <select\r\n                    value={quality}\r\n                    onChange={(e) => {\r\n                      setQuality(e.target.value);\r\n                      localStorage.setItem(STORAGE_KEYS.quality, e.target.value);\r\n                    }}\r\n                    className=\"track-select\"\r\n                  >\r\n                    <option value=\"4k\">4K (Original)</option>\r\n                    <option value=\"1080p\">1080p</option>\r\n                    <option value=\"720p\">720p</option>\r\n                    <option value=\"480p\">480p</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Play Buttons */}\r\n              <div className=\"play-buttons\">\r\n                <button\r\n                  className=\"btn btn-primary play-btn\"\r\n                  onClick={startStream}\r\n                  disabled={preparing}\r\n                >\r\n                  {preparing ? (\r\n                    <>\r\n                      <div className=\"spinner small\"></div>\r\n                      Preparant...\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <polygon points=\"5,3 19,12 5,21\" />\r\n                      </svg>\r\n                      Reproduir (HLS)\r\n                    </>\r\n                  )}\r\n                </button>\r\n\r\n                <button\r\n                  className=\"btn btn-secondary play-btn\"\r\n                  onClick={playDirect}\r\n                >\r\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <path d=\"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3\" />\r\n                  </svg>\r\n                  Directe (sense processar)\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Back Button */}\r\n        <button className=\"back-btn\" onClick={() => navigate(-1)}>\r\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <path d=\"M19 12H5M12 19l-7-7 7-7\" />\r\n          </svg>\r\n        </button>\r\n\r\n        {/* Player Controls */}\r\n        {streamUrl && (\r\n          <div className=\"player-controls\">\r\n            {/* Progress Bar */}\r\n            <div className=\"progress-container\" onClick={handleSeek}>\r\n              <div className=\"progress-bar\">\r\n                <div\r\n                  className=\"progress-fill\"\r\n                  style={{ width: `${(currentTime / duration) * 100}%` }}\r\n                />\r\n                <div\r\n                  className=\"progress-handle\"\r\n                  style={{ left: `${(currentTime / duration) * 100}%` }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"controls-row\">\r\n              {/* Left Controls */}\r\n              <div className=\"controls-left\">\r\n                <button className=\"control-btn\" onClick={handlePlayPause}>\r\n                  {isPlaying ? (\r\n                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" rx=\"1\" />\r\n                      <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" rx=\"1\" />\r\n                    </svg>\r\n                  ) : (\r\n                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                      <polygon points=\"5,3 19,12 5,21\" />\r\n                    </svg>\r\n                  )}\r\n                </button>\r\n\r\n                <div className=\"volume-control\">\r\n                  <button className=\"control-btn\" onClick={() => setVolume(volume > 0 ? 0 : 1)}>\r\n                    {volume === 0 ? (\r\n                      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M11 5L6 9H2v6h4l5 4V5zM23 9l-6 6M17 9l6 6\" />\r\n                      </svg>\r\n                    ) : (\r\n                      <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                        <path d=\"M11 5L6 9H2v6h4l5 4V5zM15.54 8.46a5 5 0 010 7.07M19.07 4.93a10 10 0 010 14.14\" />\r\n                      </svg>\r\n                    )}\r\n                  </button>\r\n                  <input\r\n                    type=\"range\"\r\n                    min=\"0\"\r\n                    max=\"1\"\r\n                    step=\"0.05\"\r\n                    value={volume}\r\n                    onChange={handleVolumeChange}\r\n                    className=\"volume-slider\"\r\n                  />\r\n                </div>\r\n\r\n                <span className=\"time-display\">\r\n                  {formatTime(currentTime)} / {formatTime(duration)}\r\n                </span>\r\n              </div>\r\n\r\n              {/* Right Controls */}\r\n              <div className=\"controls-right\">\r\n                <button\r\n                  className=\"control-btn\"\r\n                  onClick={() => setShowSettings(!showSettings)}\r\n                >\r\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                    <circle cx=\"12\" cy=\"12\" r=\"3\" />\r\n                    <path d=\"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z\" />\r\n                  </svg>\r\n                </button>\r\n\r\n                <button className=\"control-btn\" onClick={toggleFullscreen}>\r\n                  {isFullscreen ? (\r\n                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M8 3v3a2 2 0 01-2 2H3m18 0h-3a2 2 0 01-2-2V3m0 18v-3a2 2 0 012-2h3M3 16h3a2 2 0 012 2v3\" />\r\n                    </svg>\r\n                  ) : (\r\n                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n                      <path d=\"M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3\" />\r\n                    </svg>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Settings Panel */}\r\n        {showSettings && streamUrl && (\r\n          <div className=\"settings-panel glass\">\r\n            <h3>Configuracio</h3>\r\n            <p className=\"settings-note\">\r\n              Per canviar l'audio o subtitols, torna enrere i selecciona de nou.\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Player;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}