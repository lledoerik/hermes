{"ast":null,"code":"var _jsxFileName = \"E:\\\\Develop\\\\hermes-backend\\\\frontend\\\\src\\\\pages\\\\Player.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './Player.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = window.location.hostname === 'localhost' ? 'http://localhost:8000' : `http://${window.location.hostname}:8000`;\naxios.defaults.baseURL = API_URL;\n\n// SVG Icons\nconst PlayIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M8 5v14l11-7z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 3\n}, this);\n_c = PlayIcon;\nconst PauseIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 3\n}, this);\n_c2 = PauseIcon;\nconst SkipBackIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 26,\n  columnNumber: 3\n}, this);\n_c3 = SkipBackIcon;\nconst SkipForwardIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 32,\n  columnNumber: 3\n}, this);\n_c4 = SkipForwardIcon;\nconst VolumeHighIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 38,\n  columnNumber: 3\n}, this);\n_c5 = VolumeHighIcon;\nconst VolumeLowIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 44,\n  columnNumber: 3\n}, this);\n_c6 = VolumeLowIcon;\nconst VolumeMuteIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 50,\n  columnNumber: 3\n}, this);\n_c7 = VolumeMuteIcon;\nconst FullscreenIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 56,\n  columnNumber: 3\n}, this);\n_c8 = FullscreenIcon;\nconst FullscreenExitIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 62,\n  columnNumber: 3\n}, this);\n_c9 = FullscreenExitIcon;\nconst SubtitlesIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 68,\n  columnNumber: 3\n}, this);\n_c0 = SubtitlesIcon;\nconst AudioIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 74,\n  columnNumber: 3\n}, this);\n_c1 = AudioIcon;\nconst SpeedIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M10 8v8l6-4-6-4zm11-5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 80,\n  columnNumber: 3\n}, this);\n_c10 = SpeedIcon;\nconst QualityIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 86,\n  columnNumber: 3\n}, this);\n_c11 = QualityIcon;\nconst BackIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 92,\n  columnNumber: 3\n}, this);\n_c12 = BackIcon;\nfunction Player() {\n  _s();\n  const {\n    type,\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const videoRef = useRef(null);\n  const controlsTimeoutRef = useRef(null);\n  const progressRef = useRef(null);\n  const [item, setItem] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [videoLoading, setVideoLoading] = useState(true);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [buffered, setBuffered] = useState(0);\n  const [volume, setVolume] = useState(1);\n  const [isMuted, setIsMuted] = useState(false);\n  const [isFullscreen, setIsFullscreen] = useState(false);\n  const [showControls, setShowControls] = useState(true);\n\n  // Popup states\n  const [showAudioMenu, setShowAudioMenu] = useState(false);\n  const [showSubtitleMenu, setShowSubtitleMenu] = useState(false);\n  const [showSpeedMenu, setShowSpeedMenu] = useState(false);\n  const [showQualityMenu, setShowQualityMenu] = useState(false);\n\n  // Track selections\n  const [audioTracks, setAudioTracks] = useState([]);\n  const [subtitleTracks, setSubtitleTracks] = useState([]);\n  const [selectedAudio, setSelectedAudio] = useState(0);\n  const [selectedSubtitle, setSelectedSubtitle] = useState(-1);\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\n  const [quality, setQuality] = useState('auto');\n  const speeds = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];\n  const qualities = ['auto', '1080p', '720p', '480p', '360p'];\n\n  // Preferences from localStorage\n  const preferredAudioLang = localStorage.getItem('hermes_audio_lang') || 'cat';\n  const preferredSubtitleLang = localStorage.getItem('hermes_subtitle_lang') || 'off';\n  useEffect(() => {\n    loadMedia();\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\n    return () => {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange);\n    };\n  }, [type, id]);\n  const loadMedia = async () => {\n    try {\n      let response;\n      if (type === 'episode') {\n        response = await axios.get(`/api/library/episodes/${id}`);\n      } else {\n        response = await axios.get(`/api/library/movies/${id}`);\n      }\n      setItem(response.data);\n\n      // Parse audio tracks\n      if (response.data.audio_tracks) {\n        try {\n          const tracks = JSON.parse(response.data.audio_tracks);\n          setAudioTracks(tracks);\n          const preferredIndex = tracks.findIndex(t => {\n            var _t$language;\n            return (_t$language = t.language) === null || _t$language === void 0 ? void 0 : _t$language.toLowerCase().includes(preferredAudioLang);\n          });\n          if (preferredIndex >= 0) setSelectedAudio(preferredIndex);\n        } catch (e) {\n          console.error('Error parsing audio tracks:', e);\n        }\n      }\n\n      // Parse subtitles\n      if (response.data.subtitles) {\n        try {\n          const subs = JSON.parse(response.data.subtitles);\n          setSubtitleTracks(subs);\n          if (preferredSubtitleLang !== 'off') {\n            const preferredIndex = subs.findIndex(s => {\n              var _s$language;\n              return (_s$language = s.language) === null || _s$language === void 0 ? void 0 : _s$language.toLowerCase().includes(preferredSubtitleLang);\n            });\n            if (preferredIndex >= 0) setSelectedSubtitle(preferredIndex);\n          }\n        } catch (e) {\n          console.error('Error parsing subtitles:', e);\n        }\n      }\n    } catch (error) {\n      console.error('Error carregant media:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFullscreenChange = () => {\n    setIsFullscreen(!!document.fullscreenElement);\n  };\n  const closeAllMenus = () => {\n    setShowAudioMenu(false);\n    setShowSubtitleMenu(false);\n    setShowSpeedMenu(false);\n    setShowQualityMenu(false);\n  };\n  const showControlsTemporarily = useCallback(() => {\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    if (isPlaying) {\n      controlsTimeoutRef.current = setTimeout(() => {\n        setShowControls(false);\n        closeAllMenus();\n      }, 3000);\n    }\n  }, [isPlaying]);\n  const handleMouseMove = () => {\n    showControlsTemporarily();\n  };\n  const togglePlay = () => {\n    if (!videoRef.current) return;\n    if (isPlaying) {\n      videoRef.current.pause();\n    } else {\n      videoRef.current.play();\n    }\n  };\n  const handleVideoPlay = () => setIsPlaying(true);\n  const handleVideoPause = () => setIsPlaying(false);\n  const handleVideoWaiting = () => setVideoLoading(true);\n  const handleVideoCanPlay = () => setVideoLoading(false);\n  const handleTimeUpdate = () => {\n    if (!videoRef.current) return;\n    setCurrentTime(videoRef.current.currentTime);\n    if (videoRef.current.buffered.length > 0) {\n      setBuffered(videoRef.current.buffered.end(videoRef.current.buffered.length - 1));\n    }\n  };\n  const handleLoadedMetadata = () => {\n    if (!videoRef.current) return;\n    setDuration(videoRef.current.duration);\n  };\n  const handleProgressClick = e => {\n    if (!progressRef.current || !videoRef.current) return;\n    const rect = progressRef.current.getBoundingClientRect();\n    const percent = (e.clientX - rect.left) / rect.width;\n    videoRef.current.currentTime = percent * duration;\n  };\n  const skip = seconds => {\n    if (!videoRef.current) return;\n    videoRef.current.currentTime += seconds;\n  };\n  const handleVolumeChange = e => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    if (videoRef.current) {\n      videoRef.current.volume = newVolume;\n    }\n    setIsMuted(newVolume === 0);\n  };\n  const toggleMute = () => {\n    if (!videoRef.current) return;\n    if (isMuted) {\n      videoRef.current.volume = volume || 1;\n      setIsMuted(false);\n    } else {\n      videoRef.current.volume = 0;\n      setIsMuted(true);\n    }\n  };\n  const toggleFullscreen = () => {\n    if (!document.fullscreenElement) {\n      document.documentElement.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n  };\n  const formatTime = seconds => {\n    if (!seconds || isNaN(seconds)) return '0:00';\n    const h = Math.floor(seconds / 3600);\n    const m = Math.floor(seconds % 3600 / 60);\n    const s = Math.floor(seconds % 60);\n    if (h > 0) {\n      return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\n    }\n    return `${m}:${s.toString().padStart(2, '0')}`;\n  };\n  const handleBack = () => {\n    if (item !== null && item !== void 0 && item.series_id) {\n      navigate(`/series/${item.series_id}`);\n    } else {\n      navigate(-1);\n    }\n  };\n  const handleAudioChange = index => {\n    var _audioTracks$index;\n    setSelectedAudio(index);\n    if ((_audioTracks$index = audioTracks[index]) !== null && _audioTracks$index !== void 0 && _audioTracks$index.language) {\n      localStorage.setItem('hermes_audio_lang', audioTracks[index].language.toLowerCase());\n    }\n    setShowAudioMenu(false);\n  };\n  const handleSubtitleChange = index => {\n    var _subtitleTracks$index;\n    setSelectedSubtitle(index);\n    if (index === -1) {\n      localStorage.setItem('hermes_subtitle_lang', 'off');\n    } else if ((_subtitleTracks$index = subtitleTracks[index]) !== null && _subtitleTracks$index !== void 0 && _subtitleTracks$index.language) {\n      localStorage.setItem('hermes_subtitle_lang', subtitleTracks[index].language.toLowerCase());\n    }\n    setShowSubtitleMenu(false);\n  };\n  const handleSpeedChange = speed => {\n    setPlaybackSpeed(speed);\n    if (videoRef.current) {\n      videoRef.current.playbackRate = speed;\n    }\n    setShowSpeedMenu(false);\n  };\n  const handleQualityChange = q => {\n    setQuality(q);\n    setShowQualityMenu(false);\n  };\n  const getVideoUrl = () => {\n    if (type === 'episode') {\n      return `${API_URL}/api/stream/episode/${id}`;\n    }\n    return `${API_URL}/api/stream/movie/${id}`;\n  };\n  const VolumeIcon = () => {\n    if (isMuted || volume === 0) return /*#__PURE__*/_jsxDEV(VolumeMuteIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 41\n    }, this);\n    if (volume > 0.5) return /*#__PURE__*/_jsxDEV(VolumeHighIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 30\n    }, this);\n    return /*#__PURE__*/_jsxDEV(VolumeLowIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 12\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-loading\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"player-container\",\n    onMouseMove: handleMouseMove,\n    onClick: e => {\n      if (e.target === e.currentTarget) {\n        closeAllMenus();\n      }\n      showControlsTemporarily();\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        className: \"video-player\",\n        src: getVideoUrl(),\n        autoPlay: true,\n        onPlay: handleVideoPlay,\n        onPause: handleVideoPause,\n        onWaiting: handleVideoWaiting,\n        onCanPlay: handleVideoCanPlay,\n        onTimeUpdate: handleTimeUpdate,\n        onLoadedMetadata: handleLoadedMetadata,\n        onClick: togglePlay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), videoLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-loading\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `player-controls ${showControls ? 'visible' : 'hidden'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-top-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-btn\",\n            onClick: handleBack,\n            children: [/*#__PURE__*/_jsxDEV(BackIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Tornar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: (item === null || item === void 0 ? void 0 : item.name) || 'Reproduint'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this), (item === null || item === void 0 ? void 0 : item.series_name) && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.series_name, \" - T\", item.season_number, \" E\", item.episode_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"center-btn skip-btn\",\n            onClick: () => skip(-10),\n            children: [/*#__PURE__*/_jsxDEV(SkipBackIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"skip-text\",\n              children: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"center-btn play-pause-btn\",\n            onClick: togglePlay,\n            children: isPlaying ? /*#__PURE__*/_jsxDEV(PauseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 28\n            }, this) : /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 44\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"center-btn skip-btn\",\n            onClick: () => skip(10),\n            children: [/*#__PURE__*/_jsxDEV(SkipForwardIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"skip-text\",\n              children: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-bottom-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              ref: progressRef,\n              className: \"progress-bar\",\n              onClick: handleProgressClick,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-buffered\",\n                style: {\n                  width: `${buffered / duration * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-played\",\n                style: {\n                  width: `${currentTime / duration * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-handle\",\n                style: {\n                  left: `${currentTime / duration * 100}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"time-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatTime(currentTime)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"/\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: formatTime(duration)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bottom-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"left-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"control-btn\",\n                onClick: togglePlay,\n                children: isPlaying ? /*#__PURE__*/_jsxDEV(PauseIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 32\n                }, this) : /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 48\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"control-btn\",\n                onClick: () => skip(-10),\n                children: /*#__PURE__*/_jsxDEV(SkipBackIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"control-btn\",\n                onClick: () => skip(10),\n                children: /*#__PURE__*/_jsxDEV(SkipForwardIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"volume-control\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"control-btn\",\n                  onClick: toggleMute,\n                  children: /*#__PURE__*/_jsxDEV(VolumeIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"volume-slider\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"range\",\n                    min: \"0\",\n                    max: \"1\",\n                    step: \"0.1\",\n                    value: isMuted ? 0 : volume,\n                    onChange: handleVolumeChange\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"right-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `control-btn ${showSpeedMenu ? 'active' : ''}`,\n                  onClick: () => {\n                    closeAllMenus();\n                    setShowSpeedMenu(!showSpeedMenu);\n                  },\n                  title: \"Velocitat\",\n                  children: [/*#__PURE__*/_jsxDEV(SpeedIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 21\n                  }, this), playbackSpeed !== 1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"control-badge\",\n                    children: [playbackSpeed, \"x\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 494,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 19\n                }, this), showSpeedMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"control-menu\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"menu-header\",\n                    children: \"Velocitat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 23\n                  }, this), speeds.map(speed => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `menu-item ${playbackSpeed === speed ? 'selected' : ''}`,\n                    onClick: () => handleSpeedChange(speed),\n                    children: [playbackSpeed === speed && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"check-icon\",\n                      children: \"\\u2713\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 506,\n                      columnNumber: 55\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: speed === 1 ? 'Normal' : `${speed}x`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 507,\n                      columnNumber: 27\n                    }, this)]\n                  }, speed, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `control-btn ${showQualityMenu ? 'active' : ''}`,\n                  onClick: () => {\n                    closeAllMenus();\n                    setShowQualityMenu(!showQualityMenu);\n                  },\n                  title: \"Qualitat\",\n                  children: /*#__PURE__*/_jsxDEV(QualityIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 524,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 19\n                }, this), showQualityMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"control-menu\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"menu-header\",\n                    children: \"Qualitat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 23\n                  }, this), qualities.map(q => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `menu-item ${quality === q ? 'selected' : ''}`,\n                    onClick: () => handleQualityChange(q),\n                    children: [quality === q && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"check-icon\",\n                      children: \"\\u2713\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 535,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: q === 'auto' ? 'Auto' : q\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 27\n                    }, this)]\n                  }, q, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `control-btn ${showAudioMenu ? 'active' : ''}`,\n                  onClick: () => {\n                    closeAllMenus();\n                    setShowAudioMenu(!showAudioMenu);\n                  },\n                  title: \"Audio\",\n                  children: /*#__PURE__*/_jsxDEV(AudioIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 545,\n                  columnNumber: 19\n                }, this), showAudioMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"control-menu\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"menu-header\",\n                    children: \"Audio\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 23\n                  }, this), audioTracks.length > 0 ? audioTracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `menu-item ${selectedAudio === index ? 'selected' : ''}`,\n                    onClick: () => handleAudioChange(index),\n                    children: [selectedAudio === index && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"check-icon\",\n                      children: \"\\u2713\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 565,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"track-info\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"track-name\",\n                        children: track.language || `Pista ${index + 1}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 567,\n                        columnNumber: 31\n                      }, this), track.codec && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"track-detail\",\n                        children: [track.codec, \" \", track.channels ? `${track.channels}ch` : '']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 569,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 27\n                  }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"menu-item disabled\",\n                    children: \"No hi ha pistes alternatives\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 577,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 556,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"control-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `control-btn ${showSubtitleMenu ? 'active' : ''} ${selectedSubtitle >= 0 ? 'has-selection' : ''}`,\n                  onClick: () => {\n                    closeAllMenus();\n                    setShowSubtitleMenu(!showSubtitleMenu);\n                  },\n                  title: \"Subtitols\",\n                  children: /*#__PURE__*/_jsxDEV(SubtitlesIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 593,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 19\n                }, this), showSubtitleMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"control-menu\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"menu-header\",\n                    children: \"Subtitols\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 597,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `menu-item ${selectedSubtitle === -1 ? 'selected' : ''}`,\n                    onClick: () => handleSubtitleChange(-1),\n                    children: [selectedSubtitle === -1 && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"check-icon\",\n                      children: \"\\u2713\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 602,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Desactivats\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 603,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 598,\n                    columnNumber: 23\n                  }, this), subtitleTracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `menu-item ${selectedSubtitle === index ? 'selected' : ''}`,\n                    onClick: () => handleSubtitleChange(index),\n                    children: [selectedSubtitle === index && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"check-icon\",\n                      children: \"\\u2713\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 611,\n                      columnNumber: 58\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"track-info\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"track-name\",\n                        children: track.language || `Subtitol ${index + 1}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 613,\n                        columnNumber: 29\n                      }, this), track.forced && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"track-detail\",\n                        children: \"Forcat\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 614,\n                        columnNumber: 46\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 612,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 606,\n                    columnNumber: 25\n                  }, this)), subtitleTracks.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"menu-item disabled\",\n                    children: \"No hi ha subtitols\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 596,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"control-btn\",\n                onClick: toggleFullscreen,\n                children: isFullscreen ? /*#__PURE__*/_jsxDEV(FullscreenExitIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 35\n                }, this) : /*#__PURE__*/_jsxDEV(FullscreenIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 60\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 361,\n    columnNumber: 5\n  }, this);\n}\n_s(Player, \"eJBtb3WpcYkliyO1I4UYIe4gO5A=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c13 = Player;\nexport default Player;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"PlayIcon\");\n$RefreshReg$(_c2, \"PauseIcon\");\n$RefreshReg$(_c3, \"SkipBackIcon\");\n$RefreshReg$(_c4, \"SkipForwardIcon\");\n$RefreshReg$(_c5, \"VolumeHighIcon\");\n$RefreshReg$(_c6, \"VolumeLowIcon\");\n$RefreshReg$(_c7, \"VolumeMuteIcon\");\n$RefreshReg$(_c8, \"FullscreenIcon\");\n$RefreshReg$(_c9, \"FullscreenExitIcon\");\n$RefreshReg$(_c0, \"SubtitlesIcon\");\n$RefreshReg$(_c1, \"AudioIcon\");\n$RefreshReg$(_c10, \"SpeedIcon\");\n$RefreshReg$(_c11, \"QualityIcon\");\n$RefreshReg$(_c12, \"BackIcon\");\n$RefreshReg$(_c13, \"Player\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useParams","useNavigate","axios","jsxDEV","_jsxDEV","API_URL","window","location","hostname","defaults","baseURL","PlayIcon","viewBox","fill","children","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","PauseIcon","_c2","SkipBackIcon","_c3","SkipForwardIcon","_c4","VolumeHighIcon","_c5","VolumeLowIcon","_c6","VolumeMuteIcon","_c7","FullscreenIcon","_c8","FullscreenExitIcon","_c9","SubtitlesIcon","_c0","AudioIcon","_c1","SpeedIcon","_c10","QualityIcon","_c11","BackIcon","_c12","Player","_s","type","id","navigate","videoRef","controlsTimeoutRef","progressRef","item","setItem","loading","setLoading","videoLoading","setVideoLoading","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","buffered","setBuffered","volume","setVolume","isMuted","setIsMuted","isFullscreen","setIsFullscreen","showControls","setShowControls","showAudioMenu","setShowAudioMenu","showSubtitleMenu","setShowSubtitleMenu","showSpeedMenu","setShowSpeedMenu","showQualityMenu","setShowQualityMenu","audioTracks","setAudioTracks","subtitleTracks","setSubtitleTracks","selectedAudio","setSelectedAudio","selectedSubtitle","setSelectedSubtitle","playbackSpeed","setPlaybackSpeed","quality","setQuality","speeds","qualities","preferredAudioLang","localStorage","getItem","preferredSubtitleLang","loadMedia","document","addEventListener","handleFullscreenChange","removeEventListener","response","get","data","audio_tracks","tracks","JSON","parse","preferredIndex","findIndex","t","_t$language","language","toLowerCase","includes","e","console","error","subtitles","subs","s","_s$language","fullscreenElement","closeAllMenus","showControlsTemporarily","current","clearTimeout","setTimeout","handleMouseMove","togglePlay","pause","play","handleVideoPlay","handleVideoPause","handleVideoWaiting","handleVideoCanPlay","handleTimeUpdate","length","end","handleLoadedMetadata","handleProgressClick","rect","getBoundingClientRect","percent","clientX","left","width","skip","seconds","handleVolumeChange","newVolume","parseFloat","target","value","toggleMute","toggleFullscreen","documentElement","requestFullscreen","exitFullscreen","formatTime","isNaN","h","Math","floor","m","toString","padStart","handleBack","series_id","handleAudioChange","index","_audioTracks$index","handleSubtitleChange","_subtitleTracks$index","handleSpeedChange","speed","playbackRate","handleQualityChange","q","getVideoUrl","VolumeIcon","className","onMouseMove","onClick","currentTarget","ref","src","autoPlay","onPlay","onPause","onWaiting","onCanPlay","onTimeUpdate","onLoadedMetadata","name","series_name","season_number","episode_number","style","min","max","step","onChange","title","map","track","codec","channels","forced","_c13","$RefreshReg$"],"sources":["E:/Develop/hermes-backend/frontend/src/pages/Player.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Player.css';\r\n\r\nconst API_URL = window.location.hostname === 'localhost'\r\n  ? 'http://localhost:8000'\r\n  : `http://${window.location.hostname}:8000`;\r\n\r\naxios.defaults.baseURL = API_URL;\r\n\r\n// SVG Icons\r\nconst PlayIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M8 5v14l11-7z\"/>\r\n  </svg>\r\n);\r\n\r\nconst PauseIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"/>\r\n  </svg>\r\n);\r\n\r\nconst SkipBackIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z\"/>\r\n  </svg>\r\n);\r\n\r\nconst SkipForwardIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\"/>\r\n  </svg>\r\n);\r\n\r\nconst VolumeHighIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z\"/>\r\n  </svg>\r\n);\r\n\r\nconst VolumeLowIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z\"/>\r\n  </svg>\r\n);\r\n\r\nconst VolumeMuteIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\"/>\r\n  </svg>\r\n);\r\n\r\nconst FullscreenIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"/>\r\n  </svg>\r\n);\r\n\r\nconst FullscreenExitIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"/>\r\n  </svg>\r\n);\r\n\r\nconst SubtitlesIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z\"/>\r\n  </svg>\r\n);\r\n\r\nconst AudioIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z\"/>\r\n  </svg>\r\n);\r\n\r\nconst SpeedIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M10 8v8l6-4-6-4zm11-5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z\"/>\r\n  </svg>\r\n);\r\n\r\nconst QualityIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z\"/>\r\n  </svg>\r\n);\r\n\r\nconst BackIcon = () => (\r\n  <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n    <path d=\"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"/>\r\n  </svg>\r\n);\r\n\r\nfunction Player() {\r\n  const { type, id } = useParams();\r\n  const navigate = useNavigate();\r\n  const videoRef = useRef(null);\r\n  const controlsTimeoutRef = useRef(null);\r\n  const progressRef = useRef(null);\r\n\r\n  const [item, setItem] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [videoLoading, setVideoLoading] = useState(true);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const [buffered, setBuffered] = useState(0);\r\n  const [volume, setVolume] = useState(1);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [showControls, setShowControls] = useState(true);\r\n\r\n  // Popup states\r\n  const [showAudioMenu, setShowAudioMenu] = useState(false);\r\n  const [showSubtitleMenu, setShowSubtitleMenu] = useState(false);\r\n  const [showSpeedMenu, setShowSpeedMenu] = useState(false);\r\n  const [showQualityMenu, setShowQualityMenu] = useState(false);\r\n\r\n  // Track selections\r\n  const [audioTracks, setAudioTracks] = useState([]);\r\n  const [subtitleTracks, setSubtitleTracks] = useState([]);\r\n  const [selectedAudio, setSelectedAudio] = useState(0);\r\n  const [selectedSubtitle, setSelectedSubtitle] = useState(-1);\r\n  const [playbackSpeed, setPlaybackSpeed] = useState(1);\r\n  const [quality, setQuality] = useState('auto');\r\n\r\n  const speeds = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2];\r\n  const qualities = ['auto', '1080p', '720p', '480p', '360p'];\r\n\r\n  // Preferences from localStorage\r\n  const preferredAudioLang = localStorage.getItem('hermes_audio_lang') || 'cat';\r\n  const preferredSubtitleLang = localStorage.getItem('hermes_subtitle_lang') || 'off';\r\n\r\n  useEffect(() => {\r\n    loadMedia();\r\n    document.addEventListener('fullscreenchange', handleFullscreenChange);\r\n    return () => {\r\n      document.removeEventListener('fullscreenchange', handleFullscreenChange);\r\n    };\r\n  }, [type, id]);\r\n\r\n  const loadMedia = async () => {\r\n    try {\r\n      let response;\r\n      if (type === 'episode') {\r\n        response = await axios.get(`/api/library/episodes/${id}`);\r\n      } else {\r\n        response = await axios.get(`/api/library/movies/${id}`);\r\n      }\r\n      setItem(response.data);\r\n\r\n      // Parse audio tracks\r\n      if (response.data.audio_tracks) {\r\n        try {\r\n          const tracks = JSON.parse(response.data.audio_tracks);\r\n          setAudioTracks(tracks);\r\n          const preferredIndex = tracks.findIndex(t =>\r\n            t.language?.toLowerCase().includes(preferredAudioLang)\r\n          );\r\n          if (preferredIndex >= 0) setSelectedAudio(preferredIndex);\r\n        } catch (e) {\r\n          console.error('Error parsing audio tracks:', e);\r\n        }\r\n      }\r\n\r\n      // Parse subtitles\r\n      if (response.data.subtitles) {\r\n        try {\r\n          const subs = JSON.parse(response.data.subtitles);\r\n          setSubtitleTracks(subs);\r\n          if (preferredSubtitleLang !== 'off') {\r\n            const preferredIndex = subs.findIndex(s =>\r\n              s.language?.toLowerCase().includes(preferredSubtitleLang)\r\n            );\r\n            if (preferredIndex >= 0) setSelectedSubtitle(preferredIndex);\r\n          }\r\n        } catch (e) {\r\n          console.error('Error parsing subtitles:', e);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error carregant media:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFullscreenChange = () => {\r\n    setIsFullscreen(!!document.fullscreenElement);\r\n  };\r\n\r\n  const closeAllMenus = () => {\r\n    setShowAudioMenu(false);\r\n    setShowSubtitleMenu(false);\r\n    setShowSpeedMenu(false);\r\n    setShowQualityMenu(false);\r\n  };\r\n\r\n  const showControlsTemporarily = useCallback(() => {\r\n    setShowControls(true);\r\n    if (controlsTimeoutRef.current) {\r\n      clearTimeout(controlsTimeoutRef.current);\r\n    }\r\n    if (isPlaying) {\r\n      controlsTimeoutRef.current = setTimeout(() => {\r\n        setShowControls(false);\r\n        closeAllMenus();\r\n      }, 3000);\r\n    }\r\n  }, [isPlaying]);\r\n\r\n  const handleMouseMove = () => {\r\n    showControlsTemporarily();\r\n  };\r\n\r\n  const togglePlay = () => {\r\n    if (!videoRef.current) return;\r\n    if (isPlaying) {\r\n      videoRef.current.pause();\r\n    } else {\r\n      videoRef.current.play();\r\n    }\r\n  };\r\n\r\n  const handleVideoPlay = () => setIsPlaying(true);\r\n  const handleVideoPause = () => setIsPlaying(false);\r\n  const handleVideoWaiting = () => setVideoLoading(true);\r\n  const handleVideoCanPlay = () => setVideoLoading(false);\r\n\r\n  const handleTimeUpdate = () => {\r\n    if (!videoRef.current) return;\r\n    setCurrentTime(videoRef.current.currentTime);\r\n\r\n    if (videoRef.current.buffered.length > 0) {\r\n      setBuffered(videoRef.current.buffered.end(videoRef.current.buffered.length - 1));\r\n    }\r\n  };\r\n\r\n  const handleLoadedMetadata = () => {\r\n    if (!videoRef.current) return;\r\n    setDuration(videoRef.current.duration);\r\n  };\r\n\r\n  const handleProgressClick = (e) => {\r\n    if (!progressRef.current || !videoRef.current) return;\r\n    const rect = progressRef.current.getBoundingClientRect();\r\n    const percent = (e.clientX - rect.left) / rect.width;\r\n    videoRef.current.currentTime = percent * duration;\r\n  };\r\n\r\n  const skip = (seconds) => {\r\n    if (!videoRef.current) return;\r\n    videoRef.current.currentTime += seconds;\r\n  };\r\n\r\n  const handleVolumeChange = (e) => {\r\n    const newVolume = parseFloat(e.target.value);\r\n    setVolume(newVolume);\r\n    if (videoRef.current) {\r\n      videoRef.current.volume = newVolume;\r\n    }\r\n    setIsMuted(newVolume === 0);\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    if (!videoRef.current) return;\r\n    if (isMuted) {\r\n      videoRef.current.volume = volume || 1;\r\n      setIsMuted(false);\r\n    } else {\r\n      videoRef.current.volume = 0;\r\n      setIsMuted(true);\r\n    }\r\n  };\r\n\r\n  const toggleFullscreen = () => {\r\n    if (!document.fullscreenElement) {\r\n      document.documentElement.requestFullscreen();\r\n    } else {\r\n      document.exitFullscreen();\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    if (!seconds || isNaN(seconds)) return '0:00';\r\n    const h = Math.floor(seconds / 3600);\r\n    const m = Math.floor((seconds % 3600) / 60);\r\n    const s = Math.floor(seconds % 60);\r\n    if (h > 0) {\r\n      return `${h}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;\r\n    }\r\n    return `${m}:${s.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (item?.series_id) {\r\n      navigate(`/series/${item.series_id}`);\r\n    } else {\r\n      navigate(-1);\r\n    }\r\n  };\r\n\r\n  const handleAudioChange = (index) => {\r\n    setSelectedAudio(index);\r\n    if (audioTracks[index]?.language) {\r\n      localStorage.setItem('hermes_audio_lang', audioTracks[index].language.toLowerCase());\r\n    }\r\n    setShowAudioMenu(false);\r\n  };\r\n\r\n  const handleSubtitleChange = (index) => {\r\n    setSelectedSubtitle(index);\r\n    if (index === -1) {\r\n      localStorage.setItem('hermes_subtitle_lang', 'off');\r\n    } else if (subtitleTracks[index]?.language) {\r\n      localStorage.setItem('hermes_subtitle_lang', subtitleTracks[index].language.toLowerCase());\r\n    }\r\n    setShowSubtitleMenu(false);\r\n  };\r\n\r\n  const handleSpeedChange = (speed) => {\r\n    setPlaybackSpeed(speed);\r\n    if (videoRef.current) {\r\n      videoRef.current.playbackRate = speed;\r\n    }\r\n    setShowSpeedMenu(false);\r\n  };\r\n\r\n  const handleQualityChange = (q) => {\r\n    setQuality(q);\r\n    setShowQualityMenu(false);\r\n  };\r\n\r\n  const getVideoUrl = () => {\r\n    if (type === 'episode') {\r\n      return `${API_URL}/api/stream/episode/${id}`;\r\n    }\r\n    return `${API_URL}/api/stream/movie/${id}`;\r\n  };\r\n\r\n  const VolumeIcon = () => {\r\n    if (isMuted || volume === 0) return <VolumeMuteIcon />;\r\n    if (volume > 0.5) return <VolumeHighIcon />;\r\n    return <VolumeLowIcon />;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"player-container\">\r\n        <div className=\"player-loading\">\r\n          <div className=\"loading-spinner\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"player-container\"\r\n      onMouseMove={handleMouseMove}\r\n      onClick={(e) => {\r\n        if (e.target === e.currentTarget) {\r\n          closeAllMenus();\r\n        }\r\n        showControlsTemporarily();\r\n      }}\r\n    >\r\n      <div className=\"player-wrapper\">\r\n        <video\r\n          ref={videoRef}\r\n          className=\"video-player\"\r\n          src={getVideoUrl()}\r\n          autoPlay\r\n          onPlay={handleVideoPlay}\r\n          onPause={handleVideoPause}\r\n          onWaiting={handleVideoWaiting}\r\n          onCanPlay={handleVideoCanPlay}\r\n          onTimeUpdate={handleTimeUpdate}\r\n          onLoadedMetadata={handleLoadedMetadata}\r\n          onClick={togglePlay}\r\n        />\r\n\r\n        {videoLoading && (\r\n          <div className=\"player-loading\">\r\n            <div className=\"loading-spinner\"></div>\r\n          </div>\r\n        )}\r\n\r\n        <div className={`player-controls ${showControls ? 'visible' : 'hidden'}`}>\r\n          {/* Top Bar */}\r\n          <div className=\"player-top-bar\">\r\n            <button className=\"back-btn\" onClick={handleBack}>\r\n              <BackIcon />\r\n              <span>Tornar</span>\r\n            </button>\r\n            <div className=\"player-title\">\r\n              <h2>{item?.name || 'Reproduint'}</h2>\r\n              {item?.series_name && (\r\n                <span>{item.series_name} - T{item.season_number} E{item.episode_number}</span>\r\n              )}\r\n            </div>\r\n            <div style={{ width: '100px' }}></div>\r\n          </div>\r\n\r\n          {/* Center Controls */}\r\n          <div className=\"player-center\">\r\n            <button className=\"center-btn skip-btn\" onClick={() => skip(-10)}>\r\n              <SkipBackIcon />\r\n              <span className=\"skip-text\">10</span>\r\n            </button>\r\n            <button className=\"center-btn play-pause-btn\" onClick={togglePlay}>\r\n              {isPlaying ? <PauseIcon /> : <PlayIcon />}\r\n            </button>\r\n            <button className=\"center-btn skip-btn\" onClick={() => skip(10)}>\r\n              <SkipForwardIcon />\r\n              <span className=\"skip-text\">10</span>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Bottom Bar */}\r\n          <div className=\"player-bottom-bar\">\r\n            {/* Progress Bar */}\r\n            <div className=\"progress-container\">\r\n              <div\r\n                ref={progressRef}\r\n                className=\"progress-bar\"\r\n                onClick={handleProgressClick}\r\n              >\r\n                <div\r\n                  className=\"progress-buffered\"\r\n                  style={{ width: `${(buffered / duration) * 100}%` }}\r\n                />\r\n                <div\r\n                  className=\"progress-played\"\r\n                  style={{ width: `${(currentTime / duration) * 100}%` }}\r\n                />\r\n                <div\r\n                  className=\"progress-handle\"\r\n                  style={{ left: `${(currentTime / duration) * 100}%` }}\r\n                />\r\n              </div>\r\n              <div className=\"time-display\">\r\n                <span>{formatTime(currentTime)}</span>\r\n                <span>/</span>\r\n                <span>{formatTime(duration)}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Bottom Controls Row */}\r\n            <div className=\"bottom-controls\">\r\n              <div className=\"left-controls\">\r\n                <button className=\"control-btn\" onClick={togglePlay}>\r\n                  {isPlaying ? <PauseIcon /> : <PlayIcon />}\r\n                </button>\r\n                <button className=\"control-btn\" onClick={() => skip(-10)}>\r\n                  <SkipBackIcon />\r\n                </button>\r\n                <button className=\"control-btn\" onClick={() => skip(10)}>\r\n                  <SkipForwardIcon />\r\n                </button>\r\n                <div className=\"volume-control\">\r\n                  <button className=\"control-btn\" onClick={toggleMute}>\r\n                    <VolumeIcon />\r\n                  </button>\r\n                  <div className=\"volume-slider\">\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"0\"\r\n                      max=\"1\"\r\n                      step=\"0.1\"\r\n                      value={isMuted ? 0 : volume}\r\n                      onChange={handleVolumeChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"right-controls\">\r\n                {/* Speed Button */}\r\n                <div className=\"control-wrapper\">\r\n                  <button\r\n                    className={`control-btn ${showSpeedMenu ? 'active' : ''}`}\r\n                    onClick={() => {\r\n                      closeAllMenus();\r\n                      setShowSpeedMenu(!showSpeedMenu);\r\n                    }}\r\n                    title=\"Velocitat\"\r\n                  >\r\n                    <SpeedIcon />\r\n                    {playbackSpeed !== 1 && (\r\n                      <span className=\"control-badge\">{playbackSpeed}x</span>\r\n                    )}\r\n                  </button>\r\n                  {showSpeedMenu && (\r\n                    <div className=\"control-menu\">\r\n                      <div className=\"menu-header\">Velocitat</div>\r\n                      {speeds.map((speed) => (\r\n                        <div\r\n                          key={speed}\r\n                          className={`menu-item ${playbackSpeed === speed ? 'selected' : ''}`}\r\n                          onClick={() => handleSpeedChange(speed)}\r\n                        >\r\n                          {playbackSpeed === speed && <span className=\"check-icon\">&#10003;</span>}\r\n                          <span>{speed === 1 ? 'Normal' : `${speed}x`}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Quality Button */}\r\n                <div className=\"control-wrapper\">\r\n                  <button\r\n                    className={`control-btn ${showQualityMenu ? 'active' : ''}`}\r\n                    onClick={() => {\r\n                      closeAllMenus();\r\n                      setShowQualityMenu(!showQualityMenu);\r\n                    }}\r\n                    title=\"Qualitat\"\r\n                  >\r\n                    <QualityIcon />\r\n                  </button>\r\n                  {showQualityMenu && (\r\n                    <div className=\"control-menu\">\r\n                      <div className=\"menu-header\">Qualitat</div>\r\n                      {qualities.map((q) => (\r\n                        <div\r\n                          key={q}\r\n                          className={`menu-item ${quality === q ? 'selected' : ''}`}\r\n                          onClick={() => handleQualityChange(q)}\r\n                        >\r\n                          {quality === q && <span className=\"check-icon\">&#10003;</span>}\r\n                          <span>{q === 'auto' ? 'Auto' : q}</span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Audio Button */}\r\n                <div className=\"control-wrapper\">\r\n                  <button\r\n                    className={`control-btn ${showAudioMenu ? 'active' : ''}`}\r\n                    onClick={() => {\r\n                      closeAllMenus();\r\n                      setShowAudioMenu(!showAudioMenu);\r\n                    }}\r\n                    title=\"Audio\"\r\n                  >\r\n                    <AudioIcon />\r\n                  </button>\r\n                  {showAudioMenu && (\r\n                    <div className=\"control-menu\">\r\n                      <div className=\"menu-header\">Audio</div>\r\n                      {audioTracks.length > 0 ? (\r\n                        audioTracks.map((track, index) => (\r\n                          <div\r\n                            key={index}\r\n                            className={`menu-item ${selectedAudio === index ? 'selected' : ''}`}\r\n                            onClick={() => handleAudioChange(index)}\r\n                          >\r\n                            {selectedAudio === index && <span className=\"check-icon\">&#10003;</span>}\r\n                            <div className=\"track-info\">\r\n                              <span className=\"track-name\">{track.language || `Pista ${index + 1}`}</span>\r\n                              {track.codec && (\r\n                                <span className=\"track-detail\">\r\n                                  {track.codec} {track.channels ? `${track.channels}ch` : ''}\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ))\r\n                      ) : (\r\n                        <div className=\"menu-item disabled\">No hi ha pistes alternatives</div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Subtitles Button */}\r\n                <div className=\"control-wrapper\">\r\n                  <button\r\n                    className={`control-btn ${showSubtitleMenu ? 'active' : ''} ${selectedSubtitle >= 0 ? 'has-selection' : ''}`}\r\n                    onClick={() => {\r\n                      closeAllMenus();\r\n                      setShowSubtitleMenu(!showSubtitleMenu);\r\n                    }}\r\n                    title=\"Subtitols\"\r\n                  >\r\n                    <SubtitlesIcon />\r\n                  </button>\r\n                  {showSubtitleMenu && (\r\n                    <div className=\"control-menu\">\r\n                      <div className=\"menu-header\">Subtitols</div>\r\n                      <div\r\n                        className={`menu-item ${selectedSubtitle === -1 ? 'selected' : ''}`}\r\n                        onClick={() => handleSubtitleChange(-1)}\r\n                      >\r\n                        {selectedSubtitle === -1 && <span className=\"check-icon\">&#10003;</span>}\r\n                        <span>Desactivats</span>\r\n                      </div>\r\n                      {subtitleTracks.map((track, index) => (\r\n                        <div\r\n                          key={index}\r\n                          className={`menu-item ${selectedSubtitle === index ? 'selected' : ''}`}\r\n                          onClick={() => handleSubtitleChange(index)}\r\n                        >\r\n                          {selectedSubtitle === index && <span className=\"check-icon\">&#10003;</span>}\r\n                          <div className=\"track-info\">\r\n                            <span className=\"track-name\">{track.language || `Subtitol ${index + 1}`}</span>\r\n                            {track.forced && <span className=\"track-detail\">Forcat</span>}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                      {subtitleTracks.length === 0 && (\r\n                        <div className=\"menu-item disabled\">No hi ha subtitols</div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Fullscreen Button */}\r\n                <button className=\"control-btn\" onClick={toggleFullscreen}>\r\n                  {isFullscreen ? <FullscreenExitIcon /> : <FullscreenIcon />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Player;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}