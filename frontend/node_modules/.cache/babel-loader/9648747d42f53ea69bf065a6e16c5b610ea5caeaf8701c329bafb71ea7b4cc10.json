{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate,useLocation}from'react-router-dom';import axios from'axios';import'./Details.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_URL=window.location.hostname==='localhost'?'http://localhost:8000':'';axios.defaults.baseURL=API_URL;function Details(){const{id}=useParams();const location=useLocation();const navigate=useNavigate();// Determinar el tipus segons la ruta\nconst type=location.pathname.startsWith('/movies')?'movies':'series';const[item,setItem]=useState(null);const[seasons,setSeasons]=useState([]);const[episodes,setEpisodes]=useState([]);const[selectedSeason,setSelectedSeason]=useState(1);const[loading,setLoading]=useState(true);useEffect(()=>{loadDetails();},[type,id]);useEffect(()=>{if(type==='series'&&seasons.length>0){loadEpisodes(selectedSeason);}},[selectedSeason,seasons]);const loadDetails=async()=>{try{if(type==='series'){const[seriesRes,seasonsRes]=await Promise.all([axios.get(\"/api/library/series/\".concat(id)),axios.get(\"/api/library/series/\".concat(id,\"/seasons\"))]);setItem(seriesRes.data);setSeasons(seasonsRes.data);if(seasonsRes.data.length>0){setSelectedSeason(seasonsRes.data[0].season_number);}}else{const response=await axios.get(\"/api/library/movies/\".concat(id));setItem(response.data);}}catch(error){console.error('Error carregant detalls:',error);}finally{setLoading(false);}};const loadEpisodes=async seasonNum=>{try{const response=await axios.get(\"/api/library/series/\".concat(id,\"/seasons/\").concat(seasonNum,\"/episodes\"));setEpisodes(response.data);}catch(error){console.error('Error carregant episodis:',error);}};const handlePlay=function(){let episodeId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(type==='movies'){navigate(\"/play/movie/\".concat(id));}else if(episodeId){navigate(\"/play/episode/\".concat(episodeId));}else if(episodes.length>0){navigate(\"/play/episode/\".concat(episodes[0].id));}};const formatDuration=seconds=>{if(!seconds)return'';const hours=Math.floor(seconds/3600);const minutes=Math.floor(seconds%3600/60);if(hours>0){return\"\".concat(hours,\"h \").concat(minutes,\"min\");}return\"\".concat(minutes,\" min\");};const getAudioLanguages=episode=>{if(!episode.audio_tracks)return[];try{const tracks=JSON.parse(episode.audio_tracks);return tracks.map(t=>t.language||'Unknown');}catch(_unused){return[];}};const getSubtitleLanguages=episode=>{if(!episode.subtitles)return[];try{const subs=JSON.parse(episode.subtitles);return subs.map(s=>s.language||'Unknown');}catch(_unused2){return[];}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"loading-screen\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/img/hermes.png\",alt:\"Hermes\",className:\"loading-logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-text\",children:\"Carregant...\"})]});}if(!item){return/*#__PURE__*/_jsx(\"div\",{className:\"details-container\",children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'100px 20px',textAlign:'center'},children:/*#__PURE__*/_jsx(\"h2\",{children:\"No s'ha trobat el contingut\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"details-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details-hero\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hero-backdrop\",style:{backgroundImage:item.backdrop?\"url(\".concat(API_URL,\"/api/image/backdrop/\").concat(item.id,\")\"):item.poster?\"url(\".concat(API_URL,\"/api/image/poster/\").concat(item.id,\")\"):'none'}}),/*#__PURE__*/_jsx(\"div\",{className:\"hero-gradient\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-poster\",children:item.poster?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_URL,\"/api/image/poster/\").concat(item.id),alt:item.name}):/*#__PURE__*/_jsx(\"div\",{className:\"poster-placeholder\",children:type==='movies'?'üé¨':'üì∫'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"details-title\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-meta\",children:[item.year&&/*#__PURE__*/_jsx(\"span\",{className:\"meta-item\",children:item.year}),item.rating&&/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item rating\",children:[\"\\u2B50 \",item.rating]}),type==='movies'&&item.duration&&/*#__PURE__*/_jsx(\"span\",{className:\"meta-item\",children:formatDuration(item.duration)}),type==='series'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[item.season_count||seasons.length,\" temporades\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[item.episode_count||0,\" episodis\"]})]}),item.genres&&/*#__PURE__*/_jsx(\"span\",{className:\"meta-item\",children:item.genres})]}),item.overview&&/*#__PURE__*/_jsx(\"p\",{className:\"details-overview\",children:item.overview}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"play-btn\",onClick:()=>handlePlay(),children:\"\\u25B6 Reproduir\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",children:\"+ La meva llista\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",children:\"\\u2139\\uFE0F M\\xE9s info\"})]})]})]})]}),type==='series'&&/*#__PURE__*/_jsxs(\"div\",{className:\"episodes-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Episodis\"}),seasons.length>0&&/*#__PURE__*/_jsx(\"select\",{className:\"season-selector\",value:selectedSeason,onChange:e=>setSelectedSeason(Number(e.target.value)),children:seasons.map(season=>/*#__PURE__*/_jsxs(\"option\",{value:season.season_number,children:[\"Temporada \",season.season_number]},season.id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"episodes-grid\",children:episodes.map(episode=>/*#__PURE__*/_jsxs(\"div\",{className:\"episode-card\",onClick:()=>handlePlay(episode.id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"episode-thumbnail\",children:[episode.thumbnail?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_URL,\"/api/image/thumbnail/\").concat(episode.id),alt:episode.name}):/*#__PURE__*/_jsx(\"span\",{className:\"episode-number\",children:episode.episode_number}),/*#__PURE__*/_jsx(\"div\",{className:\"episode-play-icon\",children:\"\\u25B6\"}),episode.watch_progress>0&&/*#__PURE__*/_jsx(\"div\",{className:\"episode-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"episode-progress-bar\",style:{width:\"\".concat(episode.watch_progress,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"episode-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"episode-title\",children:[episode.episode_number,\". \",episode.name||\"Episodi \".concat(episode.episode_number)]}),/*#__PURE__*/_jsx(\"div\",{className:\"episode-meta\",children:episode.duration&&/*#__PURE__*/_jsx(\"span\",{children:formatDuration(episode.duration)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"audio-badges\",children:[getAudioLanguages(episode).slice(0,3).map((lang,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"badge audio\",children:lang},i)),getSubtitleLanguages(episode).slice(0,2).map((lang,i)=>/*#__PURE__*/_jsxs(\"span\",{className:\"badge sub\",children:[\"Sub \",lang]},i))]})]})]},episode.id))}),episodes.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'40px',color:'rgba(255,255,255,0.5)'},children:\"No hi ha episodis disponibles per aquesta temporada\"})]})]});}export default Details;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useLocation","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_URL","window","location","hostname","defaults","baseURL","Details","id","navigate","type","pathname","startsWith","item","setItem","seasons","setSeasons","episodes","setEpisodes","selectedSeason","setSelectedSeason","loading","setLoading","loadDetails","length","loadEpisodes","seriesRes","seasonsRes","Promise","all","get","concat","data","season_number","response","error","console","seasonNum","handlePlay","episodeId","arguments","undefined","formatDuration","seconds","hours","Math","floor","minutes","getAudioLanguages","episode","audio_tracks","tracks","JSON","parse","map","t","language","_unused","getSubtitleLanguages","subtitles","subs","s","_unused2","className","children","src","alt","style","padding","textAlign","backgroundImage","backdrop","poster","name","year","rating","duration","season_count","episode_count","genres","overview","onClick","value","onChange","e","Number","target","season","thumbnail","episode_number","watch_progress","width","slice","lang","i","color"],"sources":["E:/Develop/hermes-backend/frontend/src/pages/Details.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Details.css';\r\n\r\nconst API_URL = window.location.hostname === 'localhost'\r\n  ? 'http://localhost:8000'\r\n  : '';\r\n\r\naxios.defaults.baseURL = API_URL;\r\n\r\nfunction Details() {\r\n  const { id } = useParams();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  // Determinar el tipus segons la ruta\r\n  const type = location.pathname.startsWith('/movies') ? 'movies' : 'series';\r\n  const [item, setItem] = useState(null);\r\n  const [seasons, setSeasons] = useState([]);\r\n  const [episodes, setEpisodes] = useState([]);\r\n  const [selectedSeason, setSelectedSeason] = useState(1);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    loadDetails();\r\n  }, [type, id]);\r\n\r\n  useEffect(() => {\r\n    if (type === 'series' && seasons.length > 0) {\r\n      loadEpisodes(selectedSeason);\r\n    }\r\n  }, [selectedSeason, seasons]);\r\n\r\n  const loadDetails = async () => {\r\n    try {\r\n      if (type === 'series') {\r\n        const [seriesRes, seasonsRes] = await Promise.all([\r\n          axios.get(`/api/library/series/${id}`),\r\n          axios.get(`/api/library/series/${id}/seasons`)\r\n        ]);\r\n        setItem(seriesRes.data);\r\n        setSeasons(seasonsRes.data);\r\n        if (seasonsRes.data.length > 0) {\r\n          setSelectedSeason(seasonsRes.data[0].season_number);\r\n        }\r\n      } else {\r\n        const response = await axios.get(`/api/library/movies/${id}`);\r\n        setItem(response.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error carregant detalls:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadEpisodes = async (seasonNum) => {\r\n    try {\r\n      const response = await axios.get(`/api/library/series/${id}/seasons/${seasonNum}/episodes`);\r\n      setEpisodes(response.data);\r\n    } catch (error) {\r\n      console.error('Error carregant episodis:', error);\r\n    }\r\n  };\r\n\r\n  const handlePlay = (episodeId = null) => {\r\n    if (type === 'movies') {\r\n      navigate(`/play/movie/${id}`);\r\n    } else if (episodeId) {\r\n      navigate(`/play/episode/${episodeId}`);\r\n    } else if (episodes.length > 0) {\r\n      navigate(`/play/episode/${episodes[0].id}`);\r\n    }\r\n  };\r\n\r\n  const formatDuration = (seconds) => {\r\n    if (!seconds) return '';\r\n    const hours = Math.floor(seconds / 3600);\r\n    const minutes = Math.floor((seconds % 3600) / 60);\r\n    if (hours > 0) {\r\n      return `${hours}h ${minutes}min`;\r\n    }\r\n    return `${minutes} min`;\r\n  };\r\n\r\n  const getAudioLanguages = (episode) => {\r\n    if (!episode.audio_tracks) return [];\r\n    try {\r\n      const tracks = JSON.parse(episode.audio_tracks);\r\n      return tracks.map(t => t.language || 'Unknown');\r\n    } catch {\r\n      return [];\r\n    }\r\n  };\r\n\r\n  const getSubtitleLanguages = (episode) => {\r\n    if (!episode.subtitles) return [];\r\n    try {\r\n      const subs = JSON.parse(episode.subtitles);\r\n      return subs.map(s => s.language || 'Unknown');\r\n    } catch {\r\n      return [];\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-screen\">\r\n        <img src=\"/img/hermes.png\" alt=\"Hermes\" className=\"loading-logo\" />\r\n        <div className=\"loading-text\">Carregant...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!item) {\r\n    return (\r\n      <div className=\"details-container\">\r\n        <div style={{ padding: '100px 20px', textAlign: 'center' }}>\r\n          <h2>No s'ha trobat el contingut</h2>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"details-container\">\r\n      {/* Hero Banner */}\r\n      <div className=\"details-hero\">\r\n        <div\r\n          className=\"hero-backdrop\"\r\n          style={{\r\n            backgroundImage: item.backdrop\r\n              ? `url(${API_URL}/api/image/backdrop/${item.id})`\r\n              : item.poster\r\n              ? `url(${API_URL}/api/image/poster/${item.id})`\r\n              : 'none'\r\n          }}\r\n        />\r\n        <div className=\"hero-gradient\" />\r\n\r\n        <div className=\"hero-content\">\r\n          <div className=\"details-poster\">\r\n            {item.poster ? (\r\n              <img\r\n                src={`${API_URL}/api/image/poster/${item.id}`}\r\n                alt={item.name}\r\n              />\r\n            ) : (\r\n              <div className=\"poster-placeholder\">\r\n                {type === 'movies' ? 'üé¨' : 'üì∫'}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"details-info\">\r\n            <h1 className=\"details-title\">{item.name}</h1>\r\n\r\n            <div className=\"details-meta\">\r\n              {item.year && (\r\n                <span className=\"meta-item\">{item.year}</span>\r\n              )}\r\n              {item.rating && (\r\n                <span className=\"meta-item rating\">‚≠ê {item.rating}</span>\r\n              )}\r\n              {type === 'movies' && item.duration && (\r\n                <span className=\"meta-item\">{formatDuration(item.duration)}</span>\r\n              )}\r\n              {type === 'series' && (\r\n                <>\r\n                  <span className=\"meta-item\">{item.season_count || seasons.length} temporades</span>\r\n                  <span className=\"meta-item\">{item.episode_count || 0} episodis</span>\r\n                </>\r\n              )}\r\n              {item.genres && (\r\n                <span className=\"meta-item\">{item.genres}</span>\r\n              )}\r\n            </div>\r\n\r\n            {item.overview && (\r\n              <p className=\"details-overview\">{item.overview}</p>\r\n            )}\r\n\r\n            <div className=\"details-actions\">\r\n              <button className=\"play-btn\" onClick={() => handlePlay()}>\r\n                ‚ñ∂ Reproduir\r\n              </button>\r\n              <button className=\"secondary-btn\">\r\n                + La meva llista\r\n              </button>\r\n              <button className=\"secondary-btn\">\r\n                ‚ÑπÔ∏è M√©s info\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Episodes Section (only for series) */}\r\n      {type === 'series' && (\r\n        <div className=\"episodes-section\">\r\n          <div className=\"section-header\">\r\n            <h2 className=\"section-title\">Episodis</h2>\r\n            {seasons.length > 0 && (\r\n              <select\r\n                className=\"season-selector\"\r\n                value={selectedSeason}\r\n                onChange={(e) => setSelectedSeason(Number(e.target.value))}\r\n              >\r\n                {seasons.map((season) => (\r\n                  <option key={season.id} value={season.season_number}>\r\n                    Temporada {season.season_number}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"episodes-grid\">\r\n            {episodes.map((episode) => (\r\n              <div\r\n                key={episode.id}\r\n                className=\"episode-card\"\r\n                onClick={() => handlePlay(episode.id)}\r\n              >\r\n                <div className=\"episode-thumbnail\">\r\n                  {episode.thumbnail ? (\r\n                    <img\r\n                      src={`${API_URL}/api/image/thumbnail/${episode.id}`}\r\n                      alt={episode.name}\r\n                    />\r\n                  ) : (\r\n                    <span className=\"episode-number\">{episode.episode_number}</span>\r\n                  )}\r\n                  <div className=\"episode-play-icon\">‚ñ∂</div>\r\n                  {episode.watch_progress > 0 && (\r\n                    <div className=\"episode-progress\">\r\n                      <div\r\n                        className=\"episode-progress-bar\"\r\n                        style={{ width: `${episode.watch_progress}%` }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"episode-info\">\r\n                  <div className=\"episode-title\">\r\n                    {episode.episode_number}. {episode.name || `Episodi ${episode.episode_number}`}\r\n                  </div>\r\n                  <div className=\"episode-meta\">\r\n                    {episode.duration && (\r\n                      <span>{formatDuration(episode.duration)}</span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"audio-badges\">\r\n                    {getAudioLanguages(episode).slice(0, 3).map((lang, i) => (\r\n                      <span key={i} className=\"badge audio\">{lang}</span>\r\n                    ))}\r\n                    {getSubtitleLanguages(episode).slice(0, 2).map((lang, i) => (\r\n                      <span key={i} className=\"badge sub\">Sub {lang}</span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {episodes.length === 0 && (\r\n            <div style={{ textAlign: 'center', padding: '40px', color: 'rgba(255,255,255,0.5)' }}>\r\n              No hi ha episodis disponibles per aquesta temporada\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Details;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}